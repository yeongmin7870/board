<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors">
    <meta name="generator" content="Hugo 0.104.2">
    <title>홈화면</title>
    <link rel="canonical" href="https://getbootstrap.com/docs/5.2/examples/carousel/">
    <link href="/csses/home/bootstrap.min.css" type="text/css" rel="stylesheet">
    <style>
        .bd-placeholder-img {
            font-size: 1.125rem;
            text-anchor: middle;
            -webkit-user-select: none;
            -moz-user-select: none;
            user-select: none;
        }

        @media (min-width: 768px) {
            .bd-placeholder-img-lg {
                font-size: 3.5rem;
            }
        }

        .b-example-divider {
            height: 3rem;
            background-color: rgba(0, 0, 0, .1);
            border: solid rgba(0, 0, 0, .15);
            border-width: 1px 0;
            box-shadow: inset 0 .5em 1.5em rgba(0, 0, 0, .1), inset 0 .125em .5em rgba(0, 0, 0, .15);
        }

        .b-example-vr {
            flex-shrink: 0;
            width: 1.5rem;
            height: 100vh;
        }

        .bi {
            vertical-align: -.125em;
            fill: currentColor;
        }

        .nav-scroller {
            position: relative;
            z-index: 2;
            height: 2.75rem;
            overflow-y: hidden;
        }

        .nav-scroller .nav {
            display: flex;
            flex-wrap: nowrap;
            padding-bottom: 1rem;
            margin-top: -1px;
            overflow-x: auto;
            text-align: center;
            white-space: nowrap;
            -webkit-overflow-scrolling: touch;
        }
    </style>
    <!-- Custom styles for this template -->
    <link href="/csses/carousel.css" rel="stylesheet">
</head>

<body>
    <header>
        <nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark">
            <div class="container-fluid">
                <a class="navbar-brand" href="/v2/home/0">전공책 싸게 사자</a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse"
                    aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarCollapse">
                    <ul class="navbar-nav me-auto mb-2 mb-md-0">
                        <li class="nav-item">
                            <a class="nav-link active" aria-current="page" href="/v2/home/0">Home</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" onclick="location.href='/v3/board-mypage'"
                                style="cursor: pointer;">MyPage</a>
                        </li>
                        <li id="write" class="nav-item">
                            <a class="nav-link" style="cursor: pointer;">Write</a>
                        </li>
                        <li class="nav-item" onclick="location.href='/chat'">
                            <a class="nav-link" style="cursor: pointer;">나의대화</a>
                        </li>
                    </ul>
                </div>
                <div>
                    <button id="btn_signout" class="btn btn-outline-danger" type="submit"
                        onclick="location.href='/cookies/cookie-remove';">Sign out</button>
                    <button id="btn_signin" class="btn btn-outline-success" type="submit"
                        onclick="location.href='/v2/login';">Sign In</button>
                </div>
            </div>
        </nav>
    </header>

    <main>

        <div id="myCarousel" class="carousel slide" data-bs-ride="carousel">
            <div class="carousel-indicators">
                <button type="button" data-bs-target="#myCarousel" data-bs-slide-to="0" class="active"
                    aria-current="true" aria-label="Slide 1"></button>
                <button type="button" data-bs-target="#myCarousel" data-bs-slide-to="1" aria-label="Slide 2"></button>
                <button type="button" data-bs-target="#myCarousel" data-bs-slide-to="2" aria-label="Slide 3"></button>
            </div>
            <div class="carousel-inner" style="text-align: center; background-color: rgb(74, 73, 73);">
                <div class="carousel-item active">
                    <!-- <svg class="bd-placeholder-img" width="100%" height="100%" xmlns="http://www.w3.org/2000/svg"
                        aria-hidden="true" preserveAspectRatio="xMidYMid slice" focusable="false">
                        <rect width="100%" height="100%" fill="#777" />
                    </svg> -->
                    <img src="/images/bookstore.jpg" width="40%" height="100%" />
                </div>
                <div class="carousel-item">
                    <img src="/images/forest.jpg" width="40%" height="100%" />
                </div>
                <div class="carousel-item">
                    <img src="/images/sky_blue.jpg" width="40%" height="100%" />
                </div>
            </div>
            <button class="carousel-control-prev" type="button" data-bs-target="#myCarousel" data-bs-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Previous</span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#myCarousel" data-bs-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Next</span>
            </button>
        </div>
        <!-- Marketing messaging and featurettes
    ================================================== -->
        <!-- Wrap the rest of the page in another container to center all the content. -->
        <div class="container marketing">
            <div>
                <!-- 검색기능 -->
                <form class="d-flex" role="search" style="margin-left: 30%;margin-right: 20%; width: 40%;">
                    <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
                    <button class="btn btn-outline-success" type="submit">Search</button>
                </form>
            </div>
            <br>
            <div style="text-align: center;">
                <!-- << -->
                <%if(page.prevPage==true){%>
                    <button class="btn btn-outline-secondary"
                        onclick="location.href='/v2/home/<%=Math.max(Number(page.current_page)-1,0)%>';">
                        이전페이지 </button>
                <%}%>
                <!-- [1 2 3 4 5] -->
                <%for(var i=page.start_page; i < page.end_page; i++) { if(page.current_page==i){%>
                    <button class="btn btn-outline-primary" style="color:red"
                        onclick="location.href='/v2/home/<%=i%>'">
                        <%=i+1%>
                    </button>
                    <%} else {%>
                        <button class="btn btn-outline-primary"
                            onclick="location.href='/v2/home/<%=i%>'">
                            <%=i+1%>
                        </button>
                    <%} }%>
                            <!-- >> -->
                    <%if(page.nexPage==true){%>
                        <button class="btn btn-outline-secondary"
                            onclick="location.href='/v2/home/<%=Math.min(Number(page.current_page)+1,page.total_page-1)%>';">다음페이지</button>
                <%}%>
                                    <!-- /페이징 처리 -->
            </div>
            <!-- 게시판글 목록 시작 -->
            <hr>
            <% for (var i=0; i < board.result.length; i++){ %>
                <div class="row featurette" onclick="location.href='/v3/board/page/<%=board.result[i].board_id%>'">
                    <div class="col-md-7">
                        <h3 class="featurette-heading fw-normal lh-1">
                            <span style="font-size: small;">조회수:<%=board.result[i].view_count%></span><br><br>
                            <%=board.result[i].board_title%> <!-- 조회수 -->
                                <span class="text-muted" style="font-size: 20px;">
                                    <%=board.result[i].book_classification_name%> <!-- 책종류 -->
                                </span><br>
                                <span class="lead" style="font-size: 20px;">
                                    <% let price=board.result[0].price; price=Number(price.toLocaleString()); %>
                                        <!-- 가격 숫자로 변환(, 찍어줄려고 한 모양) -->
                                        <%=price+' 원'%> <!-- 가격 -->
                                </span>
                                <hr>
                                <span class="lead" style="font-size: 18px;">
                                    닉네임 : <%=board.result[i].nickname%><!-- 닉네임 -->
                                </span><br>
                                <span class="text-muted" style="font-size: 20px;">
                                    <% let locals=board.result[i].user_address.split(' ');
                                       locals = locals[0]+' '+locals[1];
                                    %>   
                                    <%=locals%> <!-- 주소 -->
                                </span>
                        </h3>
                    </div>
                    <div class="col-md-5">
                        <img src="/images/board/<%=board.result[i].board_image%>" width="500" height="500" />
                    </div>
                    <input type="hidden" id="board_id" value=<%=board.result[i].board_id%>>
                </div>
                <hr class="featurette-divider">
            <% } %>

        </div><!-- /.container -->
        <!-- FOOTER -->
            <form id="token_form" action="" style="display: none;"  method="post">
                <input type="hidden" id="input_token" name="token" value="">
            </form>
    </main>
    <script src="/javascripts/board/cookie.js" type="text/javascript"></script>
    <script>
        let token = getCookie('x_auth');
        btn_signin = document.getElementById('btn_signin');
        btn_signout = document.getElementById('btn_signout');
        let write = document.getElementById('write'); 
        let token_form = document.getElementById('token_form'); //토큰 보내는 form
        let input_token = document.getElementById('input_token'); // 토큰 보내는 input 

        write.addEventListener('click', event =>{
            token_form.action = "/v2/write?_method=GET"
            input_token.value = token;
            token_form.submit();
        });
        
        if (token) { // 쿠키에 토큰이 있다면 // <로그인 상태>
            btn_signout.style.display = 'block'; // 로그아웃 버튼 활성화
            btn_signin.style.display = 'none'; // 로그인 버튼 비활성화
        } else { // <로그인이 안된 상태>
            btn_signin.style.display = 'block'; // 로그인 버튼 활성화
            btn_signout.style.display = 'none'; // 로그아웃 버튼 비활성화
        }
    </script>
    <script src="/javascripts/home/bootstrap.bundle.min.js"></script>
</body>

</html>